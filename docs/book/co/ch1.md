# 第一篇：概论

## 计算机系统简介

计算机系统有很多种，例如：手机，计算机，服务器，超算。

## 计算机的基本组成

计算机可以分为**硬件**和**软件**两部分

软件分为**系统软件**和**应用软件**。

系统软件例如操作系统，编译器，数据库管理系统，网络软件等。

应用软件例如 QQ ，浏览器等。

系统复杂性管理的方法：抽象化，层次化（划分多个模块），模块化（定义明确的功能和接口），规则性（更大程度上的复用模块）。

计算机体系结构：程序员所见到的计算机系统的属性概念性的结构与功能特性。（指令系统，数据类型，寻址技术，I/O机理）定义了软硬件的界限。

计算机组成：实现计算机体系结构所体现的属性。（具体指令的实现）

冯诺依曼体系结构。例如 x86 一般是台式机。还有哈佛架构，例如 arm 精简指令集，手机。

冯诺依曼结构的特点：
* 五大部分组成。
* 指令和数据以同等地位存于存储器，可按地址寻访。
* 指令和数据用二进制表示。
* 指令分为操作码和地址码组成。
* 存储程序。
* 以运算器为中心。

冯诺依曼计算机硬件框图：（以运算器为核心，实线表示数据，虚线表示操作）

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820210523.png)

计算机硬件框图：

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820210820.png)

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820210918.png)

### 存储器

指令和数据都是保存在存储器中。存储器的组成如下：

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820212547.png)

存储器内部有**存储体**，存储体内部有**存储单元**，存储单元内部则是**存储元件**。

存储元件表示存储一位 0/1 ，

存储单元则是存放一串二进制代码，

存储字是存储单元中二进制代码的组成，

存储字长是存储单元中二进制代码的长度。

按地址寻访。

MAR 和 MDR 都是寄存器，二者用来存放**存储体**的信息。

MAR 存储器地址寄存器，反应存储单元的个数。

MDR 存储器数据寄存器，反应了存储字长。存放了**出去的数据**和**写入的数据**，作为临时中转的存在。

MAR 和 MDR 确定了存储体存放的数据量。前者确定了存储器的地址长度，后者确定了单位地址的容量，也就是存储字长。

### 运算器

运算器的结构，功能，如何工作？

运算器的组成：（不同的计算机存在差异）

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820213854.png)

ALU 是算术运算单元，组合电路，如果输入撤销，输出也相应撤销，无法保存数据。所以需要两个寄存器来保存数据。

MQ 寄存器用来存放 ACC 装不下去的数据，例如乘法会导致数据长度增加，多出来的部分装在了 ACC 中。

### 控制器

控制器的基本结构，功能？

控制器的组成：取指令，分析指令，执行指令。

![](https://cdn.jsdelivr.net/gh/weijiew/pic@master/images/20200820220642.png)

指令的地址存放在 PC 里面。

IR 存放当前要执行的指令

### 完成一条指令的过程

> 叙述起来有点累赘，先跳过。

https://www.bilibili.com/video/BV1t4411e7LH?p=9


## 计算机硬件的主要技术指标

1. 机器字长，也就是 32/64 位的机器。CPU 一次能处理数据的位数。CPU 中的寄存器位数相关。
2. 运算速度
   1. 主频越高速度越快。核数以及每个核支持的线程数。
   2. 吉普森法。
   3. CPI 执行一条指令所需要时钟周期数。
   4. MIPS 每秒执行的指令数。
   5. FLOPS 每秒浮点运算次数。

3. 存储容量：存放二进制信息的总位数。
   1. 主存
      1. 存储单元格式 * 存储字长
   2. 辅存
      1. 字节数



## 计算机硬件的主要技术指标

