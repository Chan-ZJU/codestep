# 第二章：开始学习C++

# 进入 C++

C++ 对大小写敏感，注意区分大小写。

```cpp
#include <iostream> // 预处理器编译指令
int main() {        // 函数头
    using namespace std; // 编译指令
    cout << "Come up and C++ me some time.";
    cout << endl;
    cout << "You won't regret it!" << endl;
    return 0; // 表示结束 main() 函数
}  // 函数体用 {} 括起来
```

如果运行时窗口自动关闭，可以在 return 之前添加 `cin.get();` 语句。

cin/cout 是 C++ 的输入输出工具。

程序的主体结构如下：

```cpp
int main() {
    statements;
    return 0;
}
```

第一行是**函数头**，花括号中包含的部分为**函数体**，而 main 则是**函数名**。

函数头对函数的功能和其他部分之间的接口做了总结。

函数体则是具体的指令，每条指令都以分号（;） 结尾。

而最后的语句则称为返回语句，表示结束该函数。

函数头中圆括号内部称为**形参列表**或**参数列表**，外部调用时可以通过参数将数据传入函数内部。

函数头通常作为接口，方便被调用。

main() 函数不被其他函数调用的，而是被**启动代码**调用。

编译器将**启动代码**添加到程序中使得操作系统可以通过启动代码来**调用** main() 函数。

可以将启动代码理解为**程序**和**操作系统**之间的**桥梁**，main() 函数为操作系统提供了接口。

main() 函数在历史上存在多种风格。

最初经典的 C 函数头为 :

```cpp
main()
```

因为在 C 语言中省略返回值类型就默认函数类型为 int ，所以可以这样写。

后续 C++ 淘汰了之上的写法，改为了如下的写法：

```cpp
int main(void)
```

void 表示函数不接受任何参数。

在 C++ 中 `int main()` 等效于 `int main(void)` 但是在 C 中二者不等效，前者表示对于是否接受参数保持**沉默**，而后者则明确表示不接受参数。

下面写法也可以在多种操作系统上运行，但是不是标准格式，应避免使用。

```cpp
void main()
```

有人认为 `return 0` 繁琐，制定 ANSI/ISO C++ 标准时对此做出了让步，允许最后不写 `return 0`，但是仅限于 `main()` 函数，其他函数不允许。

常规下，程序运行必须通过 `main()` 函数开始，如果没有的话程序将不完整编译器，最终导致报错，但是也存在例外情况。

单行注释以 // 开头，一直到行尾都是注释部分，不允许跨行。这也是 C++ 风格的注释方式。

例如：

```cpp
int i = 0; // 注释
```

多行注释以 /* 开头，直到 */ 结束，中间部分均为注释，可以跨行。这也是 C 风格的注释方式。

例如：

```cpp
int i = 0;
/*
*注释
*/
int k = 0;
```

虽然 C99 标准也支持 // 注释，但是应该尽量使用 C++ 风格，因为这样不涉及到开始和结束符号的正确配对。

以 # 开头的都是**编译指令**，**预处理器**会来处理这些编译指令，下面的编译指令可以理解为将 iostream 文件中的代码在源代码编译之前替换到此处，编写的代码和该文件形成复合文件。

```cpp
#include <iostream>
```

因为程序要和外部通信，例如从键盘输入字符，字符进入程序之中都是由该部分实现的。这种文件因为在程序的头部也称为**头文件**。

io 可以理解为 input/output 即输入输出，C++ 的输入输出存在多种实现方式，例如 cin/cout 。

C 的头文件风格是 .h 为后缀，例如 `math.h`。

C++ 虽然支持 C 风格的头文件，但是自己也做出了一些修改，对于自己的头文件没有后缀名，对于 C 的头文件支持将后缀去掉，开头加上 c 。如 `math.h` 改为 `cmath`。

这种修改不仅仅是格式上的改变，没有 .h 的头文件可以包含**名称空间**。

`using namespace std;` 这是一条 using 编译指令，实现了 std 的名称空间。

名称空间是 C++ 的特性之一，目的是方便**组合代码**和**组织程序**。缺点则是不同模块间存在**命名冲突**，也就两个模块中存在相同命名的函数从而导致执行出错。

解决命名冲突的方式就将该模块的名称作为**前缀**加上去，因为模块名是不同的。

例如两个模块 A，B 中都存在名称为 c 的函数，那么直接使用 c 函数会使得运行时矛盾，所以将其改为如下方式即可：

```cpp
A::c();
B::c();
```

双冒号是访问的意思（::）。

而对于 cin/cout 而言的全称就是 `std::cout<< "";` / `std::cin>>"";`

因为 `using namespace std;` 的提前声明，所以可以省略 std 直接使用 `cout << ""`/`cin >> " "`。

输出语句：`cout << endl` 

其中 `<<` 运算符其实也是左移运算符，此处作为输出其实是运算符重载，也就是在此处使其变成了别的含义而非左移位。同理 `>>` 也是。

endl 是换行的意思，也位于 std 名称空间中。

C++ 也支持 C 的换行方式，`\n` 。

# C++ 语句

`int c;` 是声明一个整型变量的意思，可以将其理解为一个“盒子”，这个**盒子**只能存放整数，例如 1，2，3，反之 1.4 就不可以了，是浮点型。

而 c 就是“盒子”的名称，`c=1` 表示将赋值，也就是将整数 1 放入“盒子”中。

`cin >> c` 表示输入一个的内容存入变量 c 中。

# 函数

C++ 的函数分为有返回值和没有返回值两种类型。

