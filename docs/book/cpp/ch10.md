# 第十章：对象和类

类对象的默认访问控制是 private，可以不用显示声明。

共有部分构成了设计的抽象部分，也就是接口。

类设计要尽可能的将公有接口和实现细节分开。

类声明中可以提供完整的函数定义，也就是编写完整的函数，但是通常单独来写。

## 函数原型，函数声明，函数定义三者之间的关系

**函数原型**指函数签名，函数名，返回类型和访问修饰符。函数签名指确定的**参数数量**及其**类型**。注意参数名可选，也就是可以不写形参名。

> 例如：`void Sum(int a,int b);` 或 `void Sum(int, int);`  两种类型的函数原型。

**函数声明**的内容和**函数原型**一致，也就是说是通过函数原型来进行函数声明的。下面则是摘录 [wiki](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B) 上的一段话。

> 函数原型（英语：Function prototype）或函数接口（英语：Function interface）是用于指定函数的名称和类型特征（元数，参数的数据类型和返回值类型）的一种**省略了函数体**的函数声明

**函数定义**指完整的函数，也就是函数体加上函数原型。下面就是一个完整的函数定义。

```cpp
void sum(int a, int b) {
    return a + b;
}
```

函数声明只是告诉编译器该函数的存在，**不分配空间**，直到调用该函数时才分配。而如果函数写在 main 函数之上时可以不写函数声明直接写完整的函数。

## 构造函数

在使用对象时往往需要设置相应的属性对应的数据，但是一般这些数据是私有的，所以无法公开访问只能通过共有的成员函数来设置。

而构造函数就是提供这些功能的，实现了对象数据的**绑定**。当声明程序时会自动调用构造函数，不需要设置相应的成员函数，再调用。

构造函数的参数不少类成员，而是赋给类成员的值，注意区分命名。一般有两种区别方式：

对于成员名 a ，一般在尾部加上下划线（_）。

```cpp
private:
    int a_;
```

或者在头部加上 (m_)

```cpp
private:
    int m_a;
```

## 析构函数

构造出来的对象是有生命周期的，生命周期结束后会执行**析构函数**来收尾。

编译器决定了什么时候调用析构函数。如果没有提供析构函数编译器会隐式地声明一个默认的析构函数，在对象被删除的代码后执行。


