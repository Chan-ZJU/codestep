# 2.0 图像压缩

## 2.1 为什么图像需要压缩？

* 数据量大

以一张**低分辨率**的图片为例。假如像素是 $1000\times1000$ 的图片（可以将该图片理解为 $1000\times1000$ 个格子）。

当表示颜色之时，一种颜色用 $8 bit$ 来表示，而 RGB 三个通道，需要 $24 bit$ 来表示，那么当前的数据量为：$1000\times1000\times24 bit$。

以上只是一张图片而已，对于普通视频而言一秒钟是 $30$ 帧，也就是一秒钟的视频种含有 30 张图片。那么此时的数据量为：$1000\times1000\times24\times30 bit$。

正常的电影是 120 分钟，一分钟是 60 秒，综上一部电影的数据量为 $1000\times1000\times24\times30\times60\times120 bit$ 。

如果不压缩的话，这个数据量是非常大的。图像和视频压缩是至关重要的。

* 数据冗余

图像中存在冗余数据，例如出现在不同位置的相似图像，没有必要全部显示。

JPEG 是一种成熟的压缩标准，无损压缩。

MPEG 也是一种常规的压缩标准。

## 2.2 图像压缩的流程

对于一般的图像压缩技术，都会经历下面的流程。

![](https://gitee.com/weijiew/pic/raw/master/img/20201127215651.png)

### 2.2.1 映射

对于像素为 $1000\times1000$ 的图片而言，此时图像可以理解为 $1000\times1000$ 的数组。

图像为了便于压缩首先需要进行映射变换，映射方法有傅里叶变换。

### 2.2.2 量化

经过映射后，在量化阶段会导致图像数据出现误差。

例如对于 17 而言，假设存储类型为 int 那么 $\frac{17}{2} \times2$ 经过取整后会变成 $16$ 。 

### 2.2.3 编码

对图像进行符号编码，（例如哈夫曼编码）目的是便于传输和存储。

### 2.2.4 解码

对图像进行解码便于显示。

### 2.2.5 逆映射

是映射的逆过程，最终得到一张新的图片。

无损压缩指最终得到的图片和原始图片没有区别或者没有肉眼可见的区别。

## 2.3 后端

量化会在一定程度上进行压缩，编码是对量化后的数据进行进一步的压缩。

哈夫曼编码。这是图像压缩的后端部分。

## 2.4 前端

图像压缩的前端，以 JPEG 为例，首先会对图像进行分割，将图像分为 $8\times8$ 的独立小块，块与块之间不重叠。

JPEG 本质上是色盲，无法对颜色进行处理，对于 RGB 三个通道进行的操作都是相同的。（事实上三个通道存在一定的相关性）

JPEG 不是以 RGB 来理解，而是以 Y，Cb，Cr 三个通道来理解。其中 Y 是亮度通道，而后两个则是颜色通道。

![Y，Cb，Cr 和 RGB 之间的转换](https://gitee.com/weijiew/pic/raw/master/img/20201127224033.png)

通过这个 $3\times3$ 的矩阵实现了 RGB 到 Y，Cb，Cr 的转换。

一般采用均方误差（MSE）来度量图像压缩过程的误差？

均方误差是什么？

https://www.coursera.org/learn/image-processing/lecture/N6T4l/4-the-discrete-cosine-transform-dct-duration-25-32-optional-break-at-12-13