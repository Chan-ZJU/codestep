# 什么是操作系统

计算机是由很多设备组成的，例如处理器，主存，磁盘，打印机，键盘，鼠标，显示器，网络接口，以及各种其他输入/输出设备。

这么多设备如果让人来管理的话势必会很麻烦，需要掌握系统的所有细节。一方面增加了人的负担，另一方面人也无法专注于编写代码。

所以操作系统出现了，专门用于管理这些设备。为用户提供一个**更好，更简单，更清晰**的计算模型。

用户于操作系统之间的**交流**成为**交互**，而基于文本的交互成为 **shell**，基于图标的交互称为**图形用户界面（GUI）**。

在分层体系中，最底层的是硬件。然后是软件，软件分为三层，最底层的是操作系统，中间的则是用户接口程序，上层则是 web浏览器，电子邮件阅读器，音乐播放器等。

软件也可以分为内核态和用户态两层，操作系统位于内核态，而软件的其余部分则位于用户态。

计算机分为**内核态**和**用户态**两者运行模式。操作系统运行在内核态，可以**使用**所有的硬件，执行**任何**指令。

而软件的其余部分则运行在用户态中，只可以使用**部分指令**。也就是有些指令是禁止使用的，例如影响**机器控制**或可进行**I/O操作**的指令。

用户接口程序为用户运行的程序提供了接口，而这些程序也可以通过用户接口程序来使用操作系统。

操作系统和普通软件最重要的区别是，普通的软件如果不喜欢，你可以用同类型的软件替换。然后操作系统不可以，和硬件紧密相关。

当然这个界限较为模糊，例如 JVM ，用于翻译 Java 的源码，也不可替换，但却作为普通软件而存在。

## 什么是操作系统

操作系统是什么的定义并不明确，因为看待问题的角度不同。

可以从**自顶向下**和**自底向上**两个角度来看待操作系统。

### 扩展机器的操作系统

按照**自顶向下**的角度来看，操作系统实现了对硬件的抽象。硬件是复杂的存在，不同的版本，新旧设备的差异等等使得程序在运行时需要考虑很多因素。

所以应用程序直接在硬件上操作不仅需要开发者深入了解硬件而且程序与硬件深入的绑定。

例如：如果**应用程序**直接和**磁盘**打交道，磁盘的接口频繁变动会的同时导致程序也频繁改动。而开发者更愿意使得应用程同硬盘驱动打交道，磁盘接口改动只需要修改硬盘驱动即可，不需要改动多个相关的应用程序了。

除此之外，操作系统将磁盘抽象为文件，读写文件即可，使用之时不用再考虑细节。

所以操作系统一定程度上抹平了硬件的差异。在此基础上为应用程序提供良好，清晰，优雅，一直的抽象。使用者不需要对硬件深入了解就可以开发了。

硬件为操作系统提供的了**丑陋的接口**，而经过操作系统的转换为应用程序提供了**美丽的接口**。

操作系统的任务是创建好的抽象，并实现和管理它所创建的抽象对象。

### 资源管理者的操作系统

从自底向上的角度来看，操作系统有序的控制了处理器，存储器和 I/O 接口等设备。

操作系统将潜在的混乱有序化，例如多个程序交替运行，得到的结果也是交替出现的，而操作系统则会将其排好顺序归好类。

实现了对资源的分配并评估其使用代价，并且为不同的程序和用户调节相互冲突的资源请求。

资源管理包含了**多路复用**和**空间复用**两种不同的方式。

多路复用：

空间复用：

# 操作系统的历史

## 第一代：真空管管和穿孔卡片

## 第二代：晶体管和批处理系统

## 第三代：集成电路和多道程序设计

## 第四代：个人计算机

## 第五代：移动计算机

# 计算机硬件简介

## 处理器

## 存储器

## 磁盘

## I/O 设备

## 总线

## 启动计算机

# 操作系统大观园

## 大型机操作系统

## 服务操作系统

## 多处理器操作系统

## 个人计算机操作系统

## 掌上计算机操作系统

## 嵌入式操作系统

## 传感节点操作系统

## 实时操作系统

## 智能卡操作系统

# 操作系统概念

## 进程

## 地址空间

## 文件

## 输入/输出

## 保护

## shell

## 个体重复系统发育

# 系统调用

## 用于进程管理的系统调用

## 用于文件管理的系统调用

## 用于目录管理的系统调用

## 各种系统调用

## Windows Win32 API

# 操作系统结构

## 单体操作系统

## 层次操作系统

## 微内核

## 客户端-服务器模式

## 虚拟机

## 外核

# 依靠 C 的世界

# 有关操作系统的研究

# 本书的其他部分概要

# 公制单位

# 小结

# 习题